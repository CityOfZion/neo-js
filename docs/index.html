<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      Home - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li  class="active" >
        <a href="index.html">
          
          
            <svg fill="#0095dd" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      neo-js
    </h3>

    <h3>Classes</h3><ul><li id="HashHelper-nav"><a href="HashHelper.html">HashHelper</a><ul class='methods'><li data-type="method" id="HashHelper-denormalize-nav"><a href="HashHelper.html#.denormalize">denormalize</a></li><li data-type="method" id="HashHelper-normalize-nav"><a href="HashHelper.html#.normalize">normalize</a></li></ul></li><li id="Logger-nav"><a href="Logger.html">Logger</a><ul class='methods'><li data-type="method" id="Logger-debug-nav"><a href="Logger.html#debug">debug</a></li><li data-type="method" id="Logger-error-nav"><a href="Logger.html#error">error</a></li><li data-type="method" id="Logger-info-nav"><a href="Logger.html#info">info</a></li><li data-type="method" id="Logger-setLevel-nav"><a href="Logger.html#setLevel">setLevel</a></li><li data-type="method" id="Logger-trace-nav"><a href="Logger.html#trace">trace</a></li><li data-type="method" id="Logger-warn-nav"><a href="Logger.html#warn">warn</a></li></ul></li><li id="Mesh-nav"><a href="Mesh.html">Mesh</a><ul class='methods'><li data-type="method" id="Mesh-getFastestNode-nav"><a href="Mesh.html#getFastestNode">getFastestNode</a></li><li data-type="method" id="Mesh-getHighestNode-nav"><a href="Mesh.html#getHighestNode">getHighestNode</a></li><li data-type="method" id="Mesh-getNodeWithBlock-nav"><a href="Mesh.html#getNodeWithBlock">getNodeWithBlock</a></li><li data-type="method" id="Mesh-getRandomNode-nav"><a href="Mesh.html#getRandomNode">getRandomNode</a></li><li data-type="method" id="Mesh-rpc-nav"><a href="Mesh.html#rpc">rpc</a></li></ul></li><li id="MongodbStorage-nav"><a href="MongodbStorage.html">MongodbStorage</a><ul class='methods'><li data-type="method" id="MongodbStorage-getAddress-nav"><a href="MongodbStorage.html#getAddress">getAddress</a></li><li data-type="method" id="MongodbStorage-getAsset-nav"><a href="MongodbStorage.html#getAsset">getAsset</a></li><li data-type="method" id="MongodbStorage-getAssetList-nav"><a href="MongodbStorage.html#getAssetList">getAssetList</a></li><li data-type="method" id="MongodbStorage-getAssetListByAddress-nav"><a href="MongodbStorage.html#getAssetListByAddress">getAssetListByAddress</a></li><li data-type="method" id="MongodbStorage-getBestBlockHash-nav"><a href="MongodbStorage.html#getBestBlockHash">getBestBlockHash</a></li><li data-type="method" id="MongodbStorage-getBlock-nav"><a href="MongodbStorage.html#getBlock">getBlock</a></li><li data-type="method" id="MongodbStorage-getBlockByHash-nav"><a href="MongodbStorage.html#getBlockByHash">getBlockByHash</a></li><li data-type="method" id="MongodbStorage-getBlockCount-nav"><a href="MongodbStorage.html#getBlockCount">getBlockCount</a></li><li data-type="method" id="MongodbStorage-getTransactions-nav"><a href="MongodbStorage.html#getTransactions">getTransactions</a></li><li data-type="method" id="MongodbStorage-getTX-nav"><a href="MongodbStorage.html#getTX">getTX</a></li><li data-type="method" id="MongodbStorage-saveAddress-nav"><a href="MongodbStorage.html#saveAddress">saveAddress</a></li><li data-type="method" id="MongodbStorage-saveAsset-nav"><a href="MongodbStorage.html#saveAsset">saveAsset</a></li><li data-type="method" id="MongodbStorage-saveAssetState-nav"><a href="MongodbStorage.html#saveAssetState">saveAssetState</a></li><li data-type="method" id="MongodbStorage-saveBlock-nav"><a href="MongodbStorage.html#saveBlock">saveBlock</a></li><li data-type="method" id="MongodbStorage-saveTransaction-nav"><a href="MongodbStorage.html#saveTransaction">saveTransaction</a></li><li data-type="method" id="MongodbStorage-updateBalance-nav"><a href="MongodbStorage.html#updateBalance">updateBalance</a></li><li data-type="method" id="MongodbStorage-updateTransaction-nav"><a href="MongodbStorage.html#updateTransaction">updateTransaction</a></li><li data-type="method" id="MongodbStorage-verifyAssets-nav"><a href="MongodbStorage.html#verifyAssets">verifyAssets</a></li><li data-type="method" id="MongodbStorage-verifyBlocks-nav"><a href="MongodbStorage.html#verifyBlocks">verifyBlocks</a></li></ul></li><li id="Neo-nav"><a href="Neo.html">Neo</a></li><li id="Node-nav"><a href="Node.html">Node</a></li><li id="Rpc-nav"><a href="Rpc.html">Rpc</a><ul class='methods'><li data-type="method" id="Rpc-getAccountState-nav"><a href="Rpc.html#getAccountState">getAccountState</a></li><li data-type="method" id="Rpc-getAssetState-nav"><a href="Rpc.html#getAssetState">getAssetState</a></li><li data-type="method" id="Rpc-getBalance-nav"><a href="Rpc.html#getBalance">getBalance</a></li><li data-type="method" id="Rpc-getBestBlockHash-nav"><a href="Rpc.html#getBestBlockHash">getBestBlockHash</a></li><li data-type="method" id="Rpc-getBlock-nav"><a href="Rpc.html#getBlock">getBlock</a></li><li data-type="method" id="Rpc-getBlockByHash-nav"><a href="Rpc.html#getBlockByHash">getBlockByHash</a></li><li data-type="method" id="Rpc-getBlockCount-nav"><a href="Rpc.html#getBlockCount">getBlockCount</a></li><li data-type="method" id="Rpc-getBlockHash-nav"><a href="Rpc.html#getBlockHash">getBlockHash</a></li><li data-type="method" id="Rpc-getBlockSystemFee-nav"><a href="Rpc.html#getBlockSystemFee">getBlockSystemFee</a></li><li data-type="method" id="Rpc-getConnectionCount-nav"><a href="Rpc.html#getConnectionCount">getConnectionCount</a></li><li data-type="method" id="Rpc-getContractState-nav"><a href="Rpc.html#getContractState">getContractState</a></li><li data-type="method" id="Rpc-getPeers-nav"><a href="Rpc.html#getPeers">getPeers</a></li><li data-type="method" id="Rpc-getRawMemPool-nav"><a href="Rpc.html#getRawMemPool">getRawMemPool</a></li><li data-type="method" id="Rpc-getRawTransaction-nav"><a href="Rpc.html#getRawTransaction">getRawTransaction</a></li><li data-type="method" id="Rpc-getTXOut-nav"><a href="Rpc.html#getTXOut">getTXOut</a></li><li data-type="method" id="Rpc-getVersion-nav"><a href="Rpc.html#getVersion">getVersion</a></li><li data-type="method" id="Rpc-invoke-nav"><a href="Rpc.html#invoke">invoke</a></li><li data-type="method" id="Rpc-invokeFunction-nav"><a href="Rpc.html#invokeFunction">invokeFunction</a></li><li data-type="method" id="Rpc-invokeScript-nav"><a href="Rpc.html#invokeScript">invokeScript</a></li><li data-type="method" id="Rpc-sendRawTransaction-nav"><a href="Rpc.html#sendRawTransaction">sendRawTransaction</a></li><li data-type="method" id="Rpc-sendToAddress-nav"><a href="Rpc.html#sendToAddress">sendToAddress</a></li><li data-type="method" id="Rpc-submitBlock-nav"><a href="Rpc.html#submitBlock">submitBlock</a></li><li data-type="method" id="Rpc-validateAddress-nav"><a href="Rpc.html#validateAddress">validateAddress</a></li></ul></li><li id="Storage-nav"><a href="Storage.html">Storage</a><ul class='methods'><li data-type="method" id="Storage-getAsset-nav"><a href="Storage.html#getAsset">getAsset</a></li><li data-type="method" id="Storage-getAssetBalance-nav"><a href="Storage.html#getAssetBalance">getAssetBalance</a></li><li data-type="method" id="Storage-getAssetList-nav"><a href="Storage.html#getAssetList">getAssetList</a></li><li data-type="method" id="Storage-getAssetState-nav"><a href="Storage.html#getAssetState">getAssetState</a></li><li data-type="method" id="Storage-getAssetTransactions-nav"><a href="Storage.html#getAssetTransactions">getAssetTransactions</a></li><li data-type="method" id="Storage-getBalance-nav"><a href="Storage.html#getBalance">getBalance</a></li><li data-type="method" id="Storage-getBestBlockHash-nav"><a href="Storage.html#getBestBlockHash">getBestBlockHash</a></li><li data-type="method" id="Storage-getBlock-nav"><a href="Storage.html#getBlock">getBlock</a></li><li data-type="method" id="Storage-getBlockByHash-nav"><a href="Storage.html#getBlockByHash">getBlockByHash</a></li><li data-type="method" id="Storage-getBlockCount-nav"><a href="Storage.html#getBlockCount">getBlockCount</a></li><li data-type="method" id="Storage-getExpandedTX-nav"><a href="Storage.html#getExpandedTX">getExpandedTX</a></li><li data-type="method" id="Storage-getTX-nav"><a href="Storage.html#getTX">getTX</a></li><li data-type="method" id="Storage-saveAssetState-nav"><a href="Storage.html#saveAssetState">saveAssetState</a></li><li data-type="method" id="Storage-saveBlock-nav"><a href="Storage.html#saveBlock">saveBlock</a></li><li data-type="method" id="Storage-updateAssetList-nav"><a href="Storage.html#updateAssetList">updateAssetList</a></li><li data-type="method" id="Storage-verifyAssets-nav"><a href="Storage.html#verifyAssets">verifyAssets</a></li><li data-type="method" id="Storage-verifyBlocks-nav"><a href="Storage.html#verifyBlocks">verifyBlocks</a></li></ul></li><li id="ValidationHelper-nav"><a href="ValidationHelper.html">ValidationHelper</a><ul class='methods'><li data-type="method" id="ValidationHelper-isValidNode-nav"><a href="ValidationHelper.html#.isValidNode">isValidNode</a></li></ul></li><li id="Wallet-nav"><a href="Wallet.html">Wallet</a><ul class='methods'><li data-type="method" id="Wallet-doClaimAllGas-nav"><a href="Wallet.html#doClaimAllGas">doClaimAllGas</a></li><li data-type="method" id="Wallet-doMintTokens-nav"><a href="Wallet.html#doMintTokens">doMintTokens</a></li><li data-type="method" id="Wallet-doSendAsset-nav"><a href="Wallet.html#doSendAsset">doSendAsset</a></li><li data-type="method" id="Wallet-doTransferToken-nav"><a href="Wallet.html#doTransferToken">doTransferToken</a></li><li data-type="method" id="Wallet-getBalance-nav"><a href="Wallet.html#getBalance">getBalance</a></li><li data-type="method" id="Wallet-getClaims-nav"><a href="Wallet.html#getClaims">getClaims</a></li><li data-type="method" id="Wallet-getTokenBalance-nav"><a href="Wallet.html#getTokenBalance">getTokenBalance</a></li><li data-type="method" id="Wallet-getTransactionHistory-nav"><a href="Wallet.html#getTransactionHistory">getTransactionHistory</a></li></ul></li></ul>
  </nav>

  <div id="main">
    

    
      



    

      


  <section class="readme">
    <article>
      <p align="center">
  <img 
    src="http://res.cloudinary.com/vidsy/image/upload/v1503160820/CoZ_Icon_DARKBLUE_200x178px_oq0gxm.png" 
    width="125px"
    alt="City of Zion logo">
</p>

<p align="center" style="font-size: 32px;">
  <strong>neo-js</strong>
</p>

<p align="center">
  A package for running a node on the <b>neo</b> blockchain.
</p>

<p align="center">
  <a href="https://travis-ci.org/CityOfZion/neo-js">
    <img src="https://travis-ci.org/CityOfZion/neo-js.svg?branch=master" alt="Build Status">
  </a>
  <a href="https://badge.fury.io/js/%40cityofzion%2Fneo-js">
    <img src="https://badge.fury.io/js/%40cityofzion%2Fneo-js.svg" alt="npm version">
  </a>
</p>

<h2>Overview</h2><p>The <code>neo-js</code> package is designed to interface with the <strong>Neo</strong> blockchain in a number of different ways that are configured by options that are used to initialize a node. A few examples of these different interaction mechanics are defined in the quickstart below as well as in the examples.</p>
<p><strong>note:</strong> All blockchain events (Invocation and Deploy) use the RPC calls to interface with the blockchain unless they can be run locally (sometimes referred to as a 'test invoke')</p>
<h2>A note on local storage</h2><p>Currently this module only support MongoDB for synchronizing the blockchain.  Future storage types are planning including other NoSQL databases, SQL databases, and in-memory solutions.</p>
<p>This module uses 'lazy caching' to improve performance when using local storage. Blocks are initially downloaded and stored in three collections (blocks, transactions, and addresses) as a result of the sync process. Upon the first request for a specific transaction (as a result of any number of the methods), the transaction will be expanded as <a href="https://github.com/CityOfZion/neon-wallet-db/blob/master/docs/Overview.md">described in Neon wallet architecture</a> and updated in the collection. The next time the block is requested, the expanded transaction will already be available in the collection.</p>
<p>This mechanic is also used for address balances. Upon requesting an update for an asset balance, the transaction collection is analyzed and the asset balance is stored in an account collection along with the max block height during the calculation. Upon future requests for the asset balance, the asset collection is first queried for previous balance.  The asset balance is then updated using only the new blocks since the previous calculation event.</p>
<h2>System Recommendations</h2><ul>
<li>NodeJS 8+</li>
<li>MongoDB 3.0+</li>
</ul>
<h2>Installation</h2><p>Install the package using:</p>
<pre class="prettyprint source lang-bash"><code>$ npm install --save @cityofzion/neo-js</code></pre><p>Alternatively, to access to the latest available code, you can reference to the git repository directly:</p>
<pre class="prettyprint source lang-bash"><code>$ npm install --save CityOfZion/neo-js#develop</code></pre><p><strong>note:</strong> <code>neo-js</code> requires that MongoDB server is installed to run the instance as a full node.
Installation instructions can be found in <a href="https://docs.mongodb.com/manual/installation/">MongoDB installation manual</a>.</p>
<h2>Quick Start</h2><pre class="prettyprint source lang-js"><code>const Node = require('@cityofzion/neo-js')</code></pre><p>To create a new blockchain instance:</p>
<pre class="prettyprint source lang-js"><code>// create the local node instance that will interface with the rpc methods
const nodeT = new Node({ network: 'testnet' }) //on testnet
const nodeM = new Node({ network: 'mainnet' }) //on mainnet

nodeT.mesh.rpc('getBlock', 1000) //get block 1000 from testnet
nodeM.mesh.rpc('getBlock', 1000) //get block 1000 from mainnet</code></pre><p>This will create a new node instance and configure it to sync the blockchain to a 3 mongoDB collections that we define:</p>
<pre class="prettyprint source lang-js"><code>const options = {
  network: 'testnet',
  storage: {
    model: 'mongoDB',
    collectionNames: {
      blocks: 'b_neo_t_blocks',
      transactions: 'b_neo_t_transactions',
      addresses: 'b_neo_t_addresses'
    }
  }
}

// create the local node instance and get the local block count after 5 seconds.
const node = new Node(options)

setTimeout(() => {
  node.storage.getBlockCount()
    .then( (res) => console.log(res) )
}, 5000)</code></pre><h2>Documentation</h2><p>Documentation (incomplete) for the project can be found at:</p>
<ul>
<li>http://cityofzion.io/neo-js/</li>
</ul>
<p>Self-documented code examples are available as part of the project source code:</p>
<ul>
<li>https://github.com/CityOfZion/neo-js/blob/master/examples</li>
</ul>
<h2>Contribution</h2><p><code>neo-js</code> always encourages community code contribution. Before contributing please read the <a href="https://github.com/CityOfZion/neo-js/blob/master/.github/CONTRIBUTING.md">contributor guidelines</a> and search the issue tracker as your issue may have already been discussed or fixed. To contribute, fork <code>neo-js</code>, commit your changes and submit a pull request.</p>
<p>By contributing to <code>neo-js</code>, you agree that your contributions will be licensed under its MIT license.</p>
<h2>License</h2><ul>
<li>Open-source <a href="https://github.com/CityOfZion/neo-js/blob/master/LICENSE.md">MIT</a>.</li>
<li>Main author is <a href="https://github.com/lllwvlvwlll">@lllwvlvwlll</a>.</li>
</ul>
    </article>
  </section>


    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  
  
</body>
</html>